import streamlit as st

# --- 股票分類設定 ---
stock_categories = {
    "🔥 台積電概念": {
        "2330": "2330-台積電", "2454": "2454-聯發科", "3711": "3711-日月光", 
        "3661": "3661-世芯", "3443": "3443-創意", "3035": "3035-智原",
        "3680": "3680-家登", "6196": "6196-帆宣", "3131": "3131-弘塑"
    },
    "🤖 AI 伺服器": {
        "2382": "2382-廣達", "3231": "3231-緯創", "2317": "2317-鴻海", 
        "6669": "6669-緯穎", "2376": "2376-技嘉", "2356": "2356-英業達",
        "2301": "2301-光寶科"
    },
    "❄️ 散熱模組": {
        "3017": "3017-奇鋐", "3324": "3324-雙鴻", "2421": "2421-建準",
        "3653": "3653-健策", "3483": "3483-力致", "8996": "8996-高力"
    },
    "📟 PCB/銅箔基板": {
        "2383": "2383-台光電", "6274": "6274-台燿", "2368": "2368-金像電",
        "3037": "3037-欣興", "3044": "3044-健鼎", "2313": "2313-華通",
        "8046": "8046-南電"
    },
    "🚢 航運航空": {
        "2603": "2603-長榮", "2609": "2609-陽明", "2615": "2615-萬海",
        "2606": "2606-裕民", "2618": "2618-長榮航", "2610": "2610-華航"
    },
    "⚡ 重電綠能": {
        "1513": "1513-中興電", "1519": "1519-華城", "1503": "1503-士電",
        "1514": "1514-亞力", "1609": "1609-大亞", "9958": "9958-世紀鋼",
        "6806": "6806-森崴能源"
    },
    "💾 記憶體": {
        "2337": "2337-旺宏", "2344": "2344-華邦電", "2408": "2408-南亞科",
        "3260": "3260-威剛", "8299": "8299-群聯", "4967": "4967-十銓"
    },
    "🛠️ 電腦組裝/品牌": {
        "4938": "4938-和碩", "2324": "2324-仁寶", "2357": "2357-華碩",
        "2353": "2353-宏碁", "2498": "2498-宏達電"
    },
    "🧪 特用化學 (CoWoS)": {
        "4755": "4755-三福化", "1773": "1773-勝一", "4770": "4770-上品",
        "1722": "1722-台肥", "1717": "1717-長興", "4763": "4763-材料-KY"
    },
    "📡 低軌衛星/網通": {
        "3491": "3491-昇達科", "6285": "6285-啟碁", "5388": "5388-中磊",
        "2314": "2314-台揚", "3665": "3665-貿聯-KY", "3234": "3234-光環"
    },
    "🏦 金融權值": {
        "2881": "2881-富邦金", "2882": "2882-國泰金", "2886": "2886-兆豐金",
        "2891": "2891-中信金", "2884": "2884-玉山金", "5880": "5880-合庫金"
    }
}

try:
    FINMIND_API_TOKEN = st.secrets["finmind_api_token"]
except FileNotFoundError:
    # 這是為了防止在沒有設定 secrets 的環境下直接崩潰，可以給個空值或提示
    FINMIND_API_TOKEN = "" 
    st.error("找不到 API Token，請確認已設定 .streamlit/secrets.toml")